/*
This script sets up the basic table structure for the stockdata database that captures stock data output from TD Ameritrade.
@author: Nick Bultman, August 2021
*/

CREATE DATABASE stockdata;

CREATE TABLE tdameritrade_stocks (
    symbol TEXT,
    date DATE,
    WkHigh52 FLOAT(8),
    WkLow52 FLOAT(8),
    askId TEXT,
    askPrice FLOAT(8),
    askSize INT,
    assetMainType TEXT,
    assetSubType TEXT,
    assetType TEXT,
    bidId TEXT,
    bidPrice FLOAT(8),
    bidSize INT,
    bidTick TEXT,
    closePrice FLOAT(8),
    cusip TEXT,
    delayed BOOLEAN,
    description TEXT,
    digits INT,
    divAmount FLOAT(8),
    divDate DATE,
    divYield FLOAT(8),
    exchange TEXT,
    exchangeName TEXT,
    highPrice FLOAT(8),
    lastId TEXT,
    lastPrice FLOAT(8),
    lastSize INT,
    lowPrice FLOAT(8),
    marginable BOOLEAN,
    mark FLOAT(8),
    markChangeInDouble FLOAT(8),
    markPercentChangeInDouble FLOAT(8),
    nAV FLOAT(8),
    netChange FLOAT(8),
    netPercentChangeInDouble FLOAT(8),
    openPrice FLOAT(8),
    peRatio FLOAT(8),
    quoteTimeInLong BIGINT,
    realtimeEntitled BOOLEAN,
    regularMarketLastPrice FLOAT(8),
    regularMarketLastSize INT,
    regularMarketNetChange FLOAT(8),
    regularMarketPercentChangeInDouble FLOAT(8),
    regularMarketTradeTimeInLong BIGINT,
    securityStatus TEXT,
    shortable BOOLEAN,
    totalVolume INT,
    tradeTimeInLong BIGINT,
    volatility FLOAT(8),
    Momentum_1D FLOAT(8),
    RSI_14D FLOAT(8),
    Aroon_Oscillator FLOAT(8),
    AB_Middle_Band FLOAT(8),
    aupband FLOAT(8),
    AB_Upper_Band FLOAT(8),
    adownband FLOAT(8),
    AB_Lower_Band FLOAT(8),
    STOK FLOAT(8),
    STOD FLOAT(8),
    psar FLOAT(8),
    ROC FLOAT(8),
    Momentum FLOAT(8),
    EMA FLOAT(8),
    TEMA FLOAT(8),
    HL FLOAT(8),
    absHC FLOAT(8),
    absLC FLOAT(8),
    TR FLOAT(8),
    ATR FLOAT(8),
    NATR FLOAT(8),
    UpMove FLOAT(8),
    DownMove FLOAT(8),
    Zero INT,
    PlusDM FLOAT(8),
    MinusDM FLOAT(8),
    plusDI FLOAT(8),
    minusDI FLOAT(8),
    ADX FLOAT(8),
    ema_26 FLOAT(8),
    ema_12 FLOAT(8),
    MACD FLOAT(8),
    tp FLOAT(8),
    rmf FLOAT(8),
    pmf FLOAT(8),
    nmf FLOAT(8),
    mfr FLOAT(8),
    Money_Flow_Index FLOAT(8),
    turning_line FLOAT(8),
    standard_line FLOAT(8),
    ichimoku_span1 FLOAT(8),
    ichimoku_span2 FLOAT(8),
    chikou_span FLOAT(8),
    WillR FLOAT(8),
    KAMA FLOAT(8),
    daily_return FLOAT(8)
);